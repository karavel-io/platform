apiVersion: integreatly.org/v1alpha1
kind: GrafanaDataSource
metadata:
  name: tempo-datasource
  namespace: {{ .Values.grafana.namespace | default .Release.Namespace }}
  labels:
    app.kubernetes.io/name: tempo
    grafana.integreatly.org/instance: grafana-operated
    {{- include "tempo.labels" . | nindent 4 }}
spec:
  name: tempo.yaml
  datasources:
    - name: Tempo
      type: tempo
      uid: tempo
      access: proxy
      url: http://tempo-query.{{ .Release.Namespace }}:16686
      version: 1
      editable: false
